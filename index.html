<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>德邦</title>
	<link rel="stylesheet" href="index.css">
</head>
<body>
	<div class='wrapper'>
		<div class="head">
			<div class="headtable"></div>
			<div class="nav">
				<div class="navbox">
					<ul id="jobcate">
						<li>
							<a href="http://qy.58.com/debang/jobs2?jobcate=607,2411,2553&localid=202" class="first">普工/技工</a>
						</li>
						<li>
							<a href="http://qy.58.com/debang/jobs2?jobcate=2407&localid=202" class="tittle">快递员</a>
						</li>
						<li>
							<a href="http://qy.58.com/debang/jobs2?jobcate=2509,2506,2510,2508&localid=202" class="tittle">司机</a>
						</li>
						<li>
							<a href="http://qy.58.com/debang/jobs2?jobcate=694,2488,2486,2794,2405,2815,2783、,2490,2780,2819,2817,2613,580&localid=202" class="tittle">文职/实习生</a>
						</li>
						<li>
							<a href="http://qy.58.com/debang/jobs2?jobcate=2431,3163,3146,3075,2822,2406,2412,2764,2562,2571,8632,593&localid=202" class="tittle">其他职位</a>
						</li>
					</ul>
				</div>
			</div>
			<div class="container">
				<div class="content">
					<div class="contenthead">
						<span class="pathjpg">
							<img src="http://pic2.58.com/ui7/job/qy/mingqi/debang/span.png" alt="">
						</span>
						<div class="contenttext">招聘职位</div>
					</div>
					<div class="xinxi">
						<div class="xinxitittle">
							<span class="inviteposition"></span>
							<span class="select"></span>
							<span class="button">
								<span class="search">搜索</span>
							</span>
						</div>
						<div class="contentlist">
							<ul class="listtittle">
								<li class="spl">职位名称</li>
								<li class="spl1">工作地点</li>
								<li class="splm">薪资</li>
								<li class="splw">工作经验</li>
								<li class="spls">最低学历</li>
								<li class="date">发布时间</li>
							</ul>
							<ul id="ul1"></ul>
							<p class="nearothercity">
								附近城市相似工作：&nbsp
								<a href="http://qy.58.com/debang/jobs2?&jobcate=607|2411|2553&localid=5853&jobkeyword=">齐齐哈尔</a>&nbsp
								<a href="http://qy.58.com/debang/jobs2?&jobcate=607|2411|2553&localid=3489&jobkeyword=">牡丹江</a>&nbsp
							</p>
						</div>
						<div class="pagerout">
							<div class="pager" id="page">
							</div>
						</div>
					</div>
					<div class="contentcenter">
						<span class="pathjpg">
							<img src="http://pic2.58.com/ui7/job/qy/mingqi/debang/span.png" alt="">
						</span>
						<div class="centertext">公司简介</div>
						<div class="centermedia">
							<div class="centerplayer"></div>
							<div class="centermediatext">
								<p>德邦致力成为以客户为中心，覆盖快递、快运、整车、仓储与供应链等多元业务的综合性物流供应商。我们凭借坚实的网络基础、强大的人才储备、深刻的市场洞悉，为跨行业的客户创造多元、灵活、高效的物流选择，让物流赋予企业更大的商业价值，赋予消费者更卓越的体验。</p>
								<p>德邦始终紧随客户需求而持续创新，坚持自营门店与事业合伙人相结合的网络拓展模式，搭建优选线路，优化运力成本，为客户提供快速高效、便捷及时、安全可靠的服务。截止2016年12月，公司已开设10000多家标准化的门店，服务网络覆盖全国34个省级行政区，全国转运中心总面积超过130万平方米，已开通韩国、日本、泰国、新加坡、马来西亚、越南等多条国际线路，全球员工人数超过12万名。</p>
							</div>
						</div>
						<div class="jobpath">
							<div>
								<span class="pathjpg">
									<img src="http://pic2.58.com/ui7/job/qy/mingqi/debang/span.png" alt="">
								</span>
								<span class="pathtext">招聘流程</span>
							</div>
							<div>
								<span class="pathpng">
									<img src="http://pic2.58.com/ui7/job/qy/mingqi/debang/path.png" alt style="max-width:980px">
								</span>
							</div>
						</div>
						<div class="feel">
							<div>
								<span class="pathjpg">
									<img src="http://pic2.58.com/ui7/job/qy/mingqi/debang/span.png" alt="">
								</span>
								<span class="pathtext">感受德邦</span>
							</div>
							<div class="postermain" style="width : 900px; height : 370px">
								<div id="left" class="posterbtn poster-prev-btn" style="width : 17px; height : 97px; z-index : 4"></div>
								<ul class="posterlist">
									<li class="poster-item">
										<a href="javascript:void(0);">
											<img src="http://pic2.58.com/ui7/job/qy/mingqi/debang/5_b.jpg" width="100%" height="100%">
										</a>
									</li>
									<li class="poster-item">
										<a href="javascript:void(0);">
											<img src="http://pic2.58.com/ui7/job/qy/mingqi/debang/7_b.jpg" width="100%" height="100%">
										</a>
									</li>
									<li class="poster-item">
										<a href="javascript:void(0);">
											<img src="http://pic2.58.com/ui7/job/qy/mingqi/debang/1_b.jpg" width="100%" height="100%">
										</a>
									</li>
									<li class="poster-item">
										<a href="javascript:void(0);">
											<img src="http://pic2.58.com/ui7/job/qy/mingqi/debang/center_b.jpg" width="100%" height="100%">
										</a>
									</li>
									<li class="poster-item">
										<a href="javascript:void(0);">
											<img src="http://pic2.58.com/ui7/job/qy/mingqi/debang/3_b.jpg" width="100%" height="100%">
										</a>
									</li>
									<li class="poster-item">
										<a href="javascript:void(0);">
											<img src="http://pic2.58.com/ui7/job/qy/mingqi/debang/4_b.jpg" width="100%" height="100%">
										</a>
									</li>
									<li class="poster-item">
										<a href="javascript:void(0);">
											<img src="http://pic2.58.com/ui7/job/qy/mingqi/debang/6_b.jpg" width="100%" height="100%">
										</a>
									</li>
								</ul>
								<div id="right" class="posterbtn poster-next-btn" style="width : 17px; height : 97px; z-index : 4"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="footer">
			<div class="footercenter">
				<span>加入德邦</span>
				<span>感受快速成长</span>
				<span>全国服务热线：400-830-5555</span>
			</div>
		</div>
	</div>
	<script src="jquery.js"></script>
	<script>
		var oLi = $(".feel .poster-item");
		var index = 0,
			flag = true,
			timer = null;
		function init(){
			oLi.eq(0).css({'top':'50%','margin-top':'-155px','height':'310px','width':'580px','left':'0px','opacity':'0.3','z-index':'1'});
			oLi.eq(1).css({'top':'50%','margin-top':'-165px','height':'330px','width':'600px','left':'40px','opacity':'0.5','z-index':'2'});
			oLi.eq(2).css({'top':'50%','margin-top':'-175px','height':'350px','width':'620px','left':'80px','opacity':'0.8','z-index':'3'});
			oLi.eq(3).css({'top':'50%','margin-top':'-185px','height':'370px','width':'640px','left':'130px','opacity':'1','z-index':'100'});
			oLi.eq(4).css({'top':'50%','margin-top':'-175px','height':'350px','width':'620px','left':'200px','opacity':'0.8','z-index':'3'});
			oLi.eq(5).css({'top':'50%','margin-top':'-165px','height':'330px','width':'600px','left':'260px','opacity':'0.5','z-index':'2'});
			oLi.eq(6).css({'top':'50%','margin-top':'-155px','height':'310px','width':'580px','left':'320px','opacity':'0.3','z-index':'1'});	
		}
		function leftMove(){
			if(flag){
				flag = false;
				oLi.eq( index  % 7).animate({'top':'50%','margin-top':'-155px','height':'310px','width':'580px','left':'320px','opacity':'0.3','z-index':'1'});
				oLi.eq( (index + 1) % 7).animate({'top':'50%','margin-top':'-155px','height':'310px','width':'580px','left':'0px','opacity':'0.3','z-index':'1'});
				oLi.eq( (index + 2) % 7 ).animate({'top':'50%','margin-top':'-165px','height':'330px','width':'600px','left':'40px','opacity':'0.5','z-index':'2'});
				oLi.eq( (index + 3) % 7).animate({'top':'50%','margin-top':'-175px','height':'350px','width':'620px','left':'80px','opacity':'0.8','z-index':'3'});
				oLi.eq( (index + 4) % 7).animate({'top':'50%','margin-top':'-185px','height':'370px','width':'640px','left':'130px','opacity':'1','z-index':'100'});
				oLi.eq( (index + 5) % 7).animate({'top':'50%','margin-top':'-175px','height':'350px','width':'620px','left':'200px','opacity':'0.8','z-index':'3'});
				oLi.eq( (index + 6) % 7).animate({'top':'50%','margin-top':'-165px','height':'330px','width':'600px','left':'260px','opacity':'0.5','z-index':'2'},function(){
					index++;
					flag = true;
				});
			}
		}
		function rightMove(){
			if(flag){
				flag = false;
				oLi.eq( (index+6)  % 7).animate({'top':'50%','margin-top':'-155px','height':'310px','width':'580px','left':'0px','opacity':'0.3','z-index':'1'});
				oLi.eq( index  % 7 ).animate({'top':'50%','margin-top':'-165px','height':'330px','width':'600px','left':'40px','opacity':'0.5','z-index':'2'});
				oLi.eq( (index + 1) % 7).animate({'top':'50%','margin-top':'-175px','height':'350px','width':'620px','left':'80px','opacity':'0.8','z-index':'3'});
				oLi.eq( (index + 2) % 7).animate({'top':'50%','margin-top':'-185px','height':'370px','width':'640px','left':'130px','opacity':'1','z-index':'100'});
				oLi.eq( (index + 3) % 7).animate({'top':'50%','margin-top':'-175px','height':'350px','width':'620px','left':'200px','opacity':'0.8','z-index':'3'});
				oLi.eq( (index + 4) % 7).animate({'top':'50%','margin-top':'-165px','height':'330px','width':'600px','left':'260px','opacity':'0.5','z-index':'2'});
				oLi.eq( (index + 5) % 7).animate({'top':'50%','margin-top':'-155px','height':'310px','width':'580px','left':'320px','opacity':'0.3','z-index':'1'},function(){
					index--;
					flag = true;
				});
			}
		}
		init();
		$('.poster-prev-btn').on('click',function(){
			rightMove();
		})
		$('.poster-next-btn').on('click',function(){
			leftMove();
		})

		function createpage(json){
			if(!json.id) return false;
			var $Div = $('#'+json.id);
			if(json.nowNum > 1){
				var $A =$('<a href ='+'#'+(json.nowNum-1)+'></a>');
				$A.html('上一页');
				$Div.append($A);
			}
			
			for(var  i = 1 ; i <= json.allNum;i++){
				var $A = $('<a href ='+'#'+i+'></a>');
				$A.html(''+i);
				if(i==json.nowNum){$A.css({'background':'#494e7b','color':'white'});}
				$Div.append($A);
			}
			if((json.allNum - json.nowNum) > 0){
				var $A =$('<a href ='+'#'+(json.nowNum+1)+'></a>');
				$A.html('下一页');
				$Div.append($A);
			}
			var $allA = $("a");
			
			$allA.on("click" ,function (){

				var nowNum = parseInt($(this).attr('href').substring(1));
				console.log(nowNum);
				// console.log(nowNum);
				$Div.html('');
				createpage({id:"page",nowNum:nowNum,allNum:5});
			});
			json.callback(json.nowNum,json.allNum);
		}
		function Ajax (method,address,flag,callBacks,data) {
			var xhr = null;
			if(window.XMLHttpRequest) {
			    xhr = new XMLHttpRequest();
			} else {
			    xhr = new ActiveXObject('Microsoft.XMLHTTP');
			}
			if (method == 'get') {
			    xhr.open('get',address + '?' + data,flag);
			    xhr.send();		
			}else if (method == 'post') {
			    xhr.open('post',address,flag);
			    xhr.setRequestHeader('content-type','application/x-www-form-urlencoded');
			    xhr.send(data);			
			}

			xhr.onreadystatechange = function() {
			    if ( xhr.readyState == 4 ) {
			        if ( xhr.status == 200 ) {
			            callBacks(xhr.responseText);
			        } else {
			            alert('出错了,Err：' + xhr.status);
			        }
			    }
			    
			}	
		}
		// 翻页
	Ajax('get', 'job.txt', true, doData);
	function doData(json){
		console.log(json)
		var arr = [];
		var iNow = 9;
        var json = JSON.parse(json);
        console.log(json)
        var data = {id:"page",nowNum:1,allNum:5,callback:function(now,all){
			console.log(json);
			var num = now * 10 <= json.length ? 10:json.length%10;
			// console.log(num);
			var oul = $('#ul1');
			var lic = $('#ul li');
			if(oul.html() === ''){
				for (var i = 0; i < num; i++) {
					var oli = $('<li></li>');
					var data=json[i];
					oli.html($('<a href="#" class="spl">' + data.job + '</a><span class ="spl1">' + data.place + '</span><span class ="splm">' + data.salary + '</span><span class ="splw">' + data.experience + '</span><span class ="spls">' + data.academic + '</span><span class ="date">' + data.time + '</span>'));
					oul.append(oli);
				}
				for (var i = 0; i < lic.length; i++) {
					arr.push([0,50+(i*40)]);
					// console.log(arr);
				}
				for (var i = 0; i < lic.length; i++) {
					$lic.eq(i).css({'position':'absolute','left':arr[i][0]+'px','top':arr[i][1]+'px','margin-top':0 })
				}
			}else{
				 var timer = setInterval(function  () {
				 	lic.eq(iNow).animate({'left':100,'top':500,'opacity':0});
				 	if(iNow === 0){
				 		clearInterval(timer);
				 		iNow = num - 1;
				 		for(var  i = 0; i < num ;i++){
				 			var data=json[i];
				 			lic.eq(i).html($('<a href="#" class="spl">' + data.job + '</a><span class ="spl1">' + data.place + '</span><span class ="splm">' + data.salary + '</span><span class ="splw">' + data.experience + '</span><span class ="spls">' + data.academic + '</span><span class ="date">' + data.time + '</span>'));
				 		}
				 		var timer2 = setInterval(function () {
				 			// console.log(lic);
				 			console.log(arr);
                              
                              if (iNow === 0) {
                                  clearInterval(timer2);
                                  iNow = num - 1;
                              }else {
                                  iNow--; 
                              }
                              lic.eq(iNow).animate({'left': arr[iNow][0]+'px','top': ''+arr[iNow][1]+'px', 'opacity': 100});
                          }, 100);
				 	}else{
				 		iNow --;
				 	}
				 },100);
			}
		}};
		createpage(data);
	}
	</script>
</body>
</html>